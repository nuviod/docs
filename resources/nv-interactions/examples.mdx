---
title: "Examples & API Reference"
description: "nv-interactions provides a lightweight system for registering context-based interactions that players can trigger using a key press. Interactions can be attached to **world coordinates** or **entities** and can expose one or more selectable options."
mode: "wide"
---

## Overview

```lua
local groupKey = exports['nv-interactions']:AddInteraction(data, options, details)
```

### Return Value

| Name       | Type              | Description                                                                                                               |
| ---------- | ----------------- | ------------------------------------------------------------------------------------------------------------------------- |
| `groupKey` | `string \| false` | Unique identifier for the interaction group. Used to enable or disable the interaction later. Returns `false` on failure. |

## Parameters

### `data`

Defines the base interaction configuration.

| Field  | Type     | Required | Description                                                    |
| ------ | -------- | -------- | -------------------------------------------------------------- |
| `name` | `string` | Yes      | Display name shown in the interaction menu.                    |
| `key`  | `string` | Yes      | Keyboard key used to trigger the interaction.                  |
| `type` | `string` | Yes      | Interaction binding type. Supported values: `coord`, `entity`. |


### `options`

Defines the selectable options shown to the player. Must be an array.

| Field         | Type       | Required | Description                                          |
| ------------- | ---------- | -------- | ---------------------------------------------------- |
| `icon`        | `string`   | No       | FontAwesome icon shown next to the option.           |
| `text`        | `string`   | Yes      | Label shown in the interaction menu.                 |
| `distance`    | `number`   | Yes      | Maximum distance required to activate the option.    |
| `dotdistance` | `number`   | No       | Distance at which the indicator dot becomes visible. |
| `onselected`  | `function` | No       | Function executed when the option is selected.       |
| `event`       | `string`   | No       | Event triggered when the option is selected.         |

> If both `onselected` and `event` are provided, `onselected` takes priority.


### `details`

Defines where or to what the interaction is attached.

| Value Type  | Description                        |
| ----------- | ---------------------------------- |
| `vector3`   | Single world coordinate            |
| `vector3[]` | Multiple world coordinates         |
| `number`    | Entity ID (when `type = 'entity'`) |


## Interaction State Management

Interactions can be dynamically disabled or re-enabled using the returned `groupKey`.

### Disable Interaction

```lua
exports['nv-interactions']:DisableInteraction(interactionType, groupKey)
```

| Parameter         | Type     | Description                            |
| ----------------- | -------- | -------------------------------------- |
| `interactionType` | `string` | `coord` or `entity`                    |
| `groupKey`        | `string` | Group key returned by `AddInteraction` |

Disabling an interaction removes it from the interaction scan while keeping it cached.


### Enable Interaction

```lua
exports['nv-interactions']:EnableInteraction(interactionType, groupKey)
```

Re-enables a previously disabled interaction without re-registering it.


## Examples

### Single Coordinate Interaction

```lua
local groupKey = exports['nv-interactions']:AddInteraction({
  name = 'Test Interaction',
  key = 'E',
  type = 'coord',
}, {
  {
    icon = 'fas fa-flask',
    text = 'Test Option',
    distance = 2.0,
    dotdistance = 5.0,
    onselected = function()
      print('Option selected')
    end
  }
}, vec(1.0, 1.0, 1.0))
```

### Multiple Coordinate Interaction

```lua
exports['nv-interactions']:AddInteraction({
  name = 'Multiple Locations',
  key = 'E',
  type = 'coord',
}, {
  {
    icon = 'fas fa-map-marker-alt',
    text = 'Interact',
    distance = 2.0,
    onselected = function()
      print('Triggered from one of multiple coords')
    end
  }
}, {
  vec(1.0, 1.0, 1.0),
  vec(2.0, 2.0, 2.0)
})
```


### Entity Interaction

```lua
exports['nv-interactions']:AddInteraction({
  name = 'Entity Interaction',
  key = 'E',
  type = 'entity',
}, {
  {
    icon = 'fas fa-user',
    text = 'Talk',
    distance = 2.0,
    onselected = function()
      print('Entity interaction triggered')
    end
  }
}, 123456)
```


### Toggle Interaction State

```lua
exports['nv-interactions']:DisableInteraction('coord', groupKey)
exports['nv-interactions']:EnableInteraction('coord', groupKey)
```